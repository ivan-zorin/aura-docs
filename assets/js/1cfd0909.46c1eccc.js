"use strict";(self.webpackChunk_localzet_aura_docs=self.webpackChunk_localzet_aura_docs||[]).push([[3173],{6847:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});var i=s(3942),r=s(4848),t=s(8453);const l={title:"Release v1.3.1",authors:"localzet",tags:["release"],date:new Date("2025-02-24T00:00:00.000Z")},o="Release v1.3.1",a={authorsImageUrls:[void 0]},c=[{value:"\ud83d\udd04 Breaking Changes",id:"-breaking-changes",level:2},{value:"Metrics Port Configuration",id:"metrics-port-configuration",level:3},{value:"\ud83e\uddec API changes",id:"-api-changes",level:3},{value:"\ud83d\udd27 How to Upgrade",id:"-how-to-upgrade",level:2},{value:"\u2728 New Features",id:"-new-features",level:2},{value:"Multiple Instances Support",id:"multiple-instances-support",level:3},{value:"Frontend",id:"frontend",level:3},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes",level:2}];function d(e){const n={admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",input:"input",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\ud83d\udea7 Breaking Changes Alert \ud83d\udea7"})}),"\n",(0,r.jsx)(n.p,{children:"This release contains breaking changes. Please review the following sections carefully before upgrading."}),"\n","\n",(0,r.jsx)(n.h2,{id:"-breaking-changes",children:"\ud83d\udd04 Breaking Changes"}),"\n",(0,r.jsx)(n.h3,{id:"metrics-port-configuration",children:"Metrics Port Configuration"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Prometheus metrics endpoint now runs on a separate port"}),"\n",(0,r.jsxs)(n.li,{children:["Added new ",(0,r.jsx)(n.code,{children:"METRICS_PORT"})," environment variable"]}),"\n",(0,r.jsxs)(n.li,{children:["Metrics endpoint path changed from ",(0,r.jsx)(n.code,{children:"/api/metrics"})," to ",(0,r.jsx)(n.code,{children:"/metrics"})]}),"\n",(0,r.jsxs)(n.li,{children:["No longer served on the main application port. Please use new ",(0,r.jsx)(n.code,{children:"METRICS_PORT"})," environment variable to access metrics."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-api-changes",children:"\ud83e\uddec API changes"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["All user endpoints now include ",(0,r.jsx)(n.code,{children:"lastConnectedNode"})," information"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Enhanced subscription information in responses"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Traffic reset strategy changed"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"CALENDAR_MONTH"}),", ",(0,r.jsx)(n.code,{children:"YEAR"})," is ",(0,r.jsx)(n.strong,{children:"removed"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"MONTH"})," now uses the same strategy as ",(0,r.jsx)(n.code,{children:"CALENDAR_MONTH"})," before."]}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"If you use API, please review your codebase to reflect these changes."})})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"There is no need to manually change reset strategy for existing users, it will be changed automatically when you upgrade."})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Traffic reset strategy also use new logic."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"DAY"})," \u2013 every day at 00:00 UTC"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"WEEK"})," \u2013 every week at Monday 00:00 UTC (night from Sunday to Monday)"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"MONTH"})," \u2013 every month at the first day of month at 00:00 UTC"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-how-to-upgrade",children:"\ud83d\udd27 How to Upgrade"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Add the required new environment variables:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"METRICS_PORT"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"API_INSTANCES"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Update your monitoring configuration to use the new metrics port"}),"\n",(0,r.jsxs)(n.li,{children:["Update your API clients. Change deprecated ",(0,r.jsx)(n.code,{children:"CALENDAR_MONTH"}),", ",(0,r.jsx)(n.code,{children:"YEAR"})," to ",(0,r.jsx)(n.code,{children:"MONTH"})," or ",(0,r.jsx)(n.code,{children:"WEEK"})," or ",(0,r.jsx)(n.code,{children:"DAY"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"It will be impossible to downgrade to previous version, because of migration of reset strategy."})}),"\n",(0,r.jsx)(n.h2,{id:"-new-features",children:"\u2728 New Features"}),"\n",(0,r.jsx)(n.h3,{id:"multiple-instances-support",children:"Multiple Instances Support"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Bulk user deletion is now available. Delete many users with selected status with ease."}),"\n",(0,r.jsx)(n.li,{children:"Added support for running multiple API instances"}),"\n",(0,r.jsxs)(n.li,{children:["New ",(0,r.jsx)(n.code,{children:"API_INSTANCES"})," environment variable to control instance scaling"]}),"\n",(0,r.jsxs)(n.li,{children:["Flexible scaling options:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"max"}),": Utilize all available CPU cores"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<number>"}),": Run a specific number of instances"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-1"}),": Use all cores except one"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u26a0\ufe0f ",(0,r.jsx)(n.strong,{children:"Important"}),": Never set instance count higher than your server's physical core count"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"frontend",children:"Frontend"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"i18n in now supported. Currently, Russian, English and Persian languages are supported."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-bug-fixes",children:"\ud83d\udc1b Bug Fixes"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Fixed an error, when you tried to use Telegram bot for notifications, but it is already had getUpdates or webhook active."]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Other minor fixes and improvements."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var i=s(6540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}},3942:e=>{e.exports=JSON.parse('{"permalink":"/blog/releases/1.3.1","source":"@site/blog/releases/1.3.1/index.mdx","title":"Release v1.3.1","description":"\ud83d\udea7 Breaking Changes Alert \ud83d\udea7","date":"2025-02-24T00:00:00.000Z","tags":[{"inline":true,"label":"release","permalink":"/blog/tags/release"}],"readingTime":1.865,"hasTruncateMarker":true,"authors":[{"name":"Ivan Zorin","title":"Developer","url":"https://t.me/localzet","page":null,"socials":{"telegram":"https://t.me/localzet","github":"https://github.com/localzet"},"imageURL":"https://aura.zorin.space/img/logo.svg","key":"localzet"}],"frontMatter":{"title":"Release v1.3.1","authors":"localzet","tags":["release"],"date":"2025-02-24T00:00:00.000Z"},"unlisted":false}')}}]);