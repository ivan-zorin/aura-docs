"use strict";(self.webpackChunk_localzet_aura_docs=self.webpackChunk_localzet_aura_docs||[]).push([[8130],{7735:e=>{e.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"/releases/1.3.1","metadata":{"permalink":"/blog/releases/1.3.1","source":"@site/blog/releases/1.3.1/index.mdx","title":"Release v1.3.1","description":"\ud83d\udea7 Breaking Changes Alert \ud83d\udea7","date":"2025-02-24T00:00:00.000Z","tags":[{"inline":true,"label":"release","permalink":"/blog/tags/release"}],"readingTime":1.865,"hasTruncateMarker":true,"authors":[{"name":"Ivan Zorin","title":"Developer","url":"https://t.me/localzet","page":null,"socials":{"telegram":"https://t.me/localzet","github":"https://github.com/localzet"},"imageURL":"https://aura.zorin.space/img/logo.svg","key":"localzet"}],"frontMatter":{"title":"Release v1.3.1","authors":"localzet","tags":["release"],"date":"2025-02-24T00:00:00.000Z"},"unlisted":false},"content":"**\ud83d\udea7 Breaking Changes Alert \ud83d\udea7**\\r\\n\\r\\nThis release contains breaking changes. Please review the following sections carefully before upgrading.\\r\\n\\r\\n{/* truncate */}\\r\\n\\r\\n## \ud83d\udd04 Breaking Changes\\r\\n\\r\\n### Metrics Port Configuration\\r\\n\\r\\n- Prometheus metrics endpoint now runs on a separate port\\r\\n- Added new `METRICS_PORT` environment variable\\r\\n- Metrics endpoint path changed from `/api/metrics` to `/metrics`\\r\\n- No longer served on the main application port. Please use new `METRICS_PORT` environment variable to access metrics.\\r\\n\\r\\n### \ud83e\uddec API changes\\r\\n\\r\\n1. All user endpoints now include `lastConnectedNode` information\\r\\n\\r\\n2. Enhanced subscription information in responses\\r\\n\\r\\n3. Traffic reset strategy changed\\r\\n\\r\\n    `CALENDAR_MONTH`, `YEAR` is **removed**.\\r\\n\\r\\n    `MONTH` now uses the same strategy as `CALENDAR_MONTH` before.\\r\\n\\r\\n    :::warning\\r\\n    **If you use API, please review your codebase to reflect these changes.**\\r\\n    :::\\r\\n\\r\\n    :::info\\r\\n    There is no need to manually change reset strategy for existing users, it will be changed automatically when you upgrade.\\r\\n    :::\\r\\n\\r\\n4. Traffic reset strategy also use new logic.\\r\\n\\r\\n    `DAY` \u2013 every day at 00:00 UTC\\r\\n\\r\\n    `WEEK` \u2013 every week at Monday 00:00 UTC (night from Sunday to Monday)\\r\\n\\r\\n    `MONTH` \u2013 every month at the first day of month at 00:00 UTC\\r\\n\\r\\n## \ud83d\udd27 How to Upgrade\\r\\n\\r\\n1. Add the required new environment variables:\\r\\n    - `METRICS_PORT`\\r\\n    - `API_INSTANCES`\\r\\n2. Update your monitoring configuration to use the new metrics port\\r\\n3. Update your API clients. Change deprecated `CALENDAR_MONTH`, `YEAR` to `MONTH` or `WEEK` or `DAY`.\\r\\n\\r\\n:::warning\\r\\nIt will be impossible to downgrade to previous version, because of migration of reset strategy.\\r\\n:::\\r\\n\\r\\n## \u2728 New Features\\r\\n\\r\\n### Multiple Instances Support\\r\\n\\r\\n- Bulk user deletion is now available. Delete many users with selected status with ease.\\r\\n- Added support for running multiple API instances\\r\\n- New `API_INSTANCES` environment variable to control instance scaling\\r\\n- Flexible scaling options:\\r\\n    - `max`: Utilize all available CPU cores\\r\\n    - `<number>`: Run a specific number of instances\\r\\n    - `-1`: Use all cores except one\\r\\n\\r\\n> \u26a0\ufe0f **Important**: Never set instance count higher than your server\'s physical core count\\r\\n\\r\\n### Frontend\\r\\n\\r\\n- i18n in now supported. Currently, Russian, English and Persian languages are supported.\\r\\n\\r\\n## \ud83d\udc1b Bug Fixes\\r\\n\\r\\n- [x] Fixed an error, when you tried to use Telegram bot for notifications, but it is already had getUpdates or webhook active.\\r\\n- [x] Other minor fixes and improvements."}]}}')}}]);