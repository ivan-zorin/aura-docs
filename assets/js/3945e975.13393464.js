"use strict";(self.webpackChunk_localzet_aura_docs=self.webpackChunk_localzet_aura_docs||[]).push([[4872],{926:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"features/hwid-device-limit","title":"HWID device limit","description":"This feature works only with a few client applications (which currently support sending a HWID header when receiving the subscription content).","source":"@site/docs/features/hwid-device-limit.md","sourceDirName":"features","slug":"/features/hwid-device-limit","permalink":"/docs/features/hwid-device-limit","draft":false,"unlisted":false,"editUrl":"https://github.com/localzet/aura-docs/tree/main/docs/features/hwid-device-limit.md","tags":[],"version":"current","lastUpdatedBy":"Ivan Zorin","lastUpdatedAt":1750179473000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1,"slug":"/features/hwid-device-limit","title":"HWID device limit"},"sidebar":"tutorialSidebar","previous":{"title":"Upgrading","permalink":"/docs/install/upgrading"},"next":{"title":"Receiving webhooks","permalink":"/docs/features/webhooks"}}');var s=t(4848),r=t(8453);const o={sidebar_position:1,slug:"/features/hwid-device-limit",title:"HWID device limit"},a=void 0,d={},l=[{value:"Overview",id:"overview",level:2},{value:".env configuration",id:"env-configuration",level:3},{value:"User limits",id:"user-limits",level:3},{value:"Example configuration",id:"example-configuration",level:3},{value:"Supported applications",id:"supported-applications",level:3},{value:"For app developers",id:"for-app-developers",level:2}];function c(e){const i={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.admonition,{type:"info",children:(0,s.jsx)(i.p,{children:"This feature works only with a few client applications (which currently support sending a HWID header when receiving the subscription content)."})}),"\n",(0,s.jsx)(i.admonition,{type:"tip",children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"HWID Device Limit"})," is fully optional and ",(0,s.jsx)(i.strong,{children:"disabled by default"}),"."]})}),"\n",(0,s.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(i.p,{children:"HWID Device Limit is a feature that allows you to restrict the number of devices that can use a subscription."}),"\n",(0,s.jsxs)(i.p,{children:["If the ",(0,s.jsx)(i.code,{children:"HWID_DEVICE_LIMIT_ENABLED"})," variable is set to ",(0,s.jsx)(i.code,{children:"true"}),",\r\nAura will use HWID and other headers to limit the number of devices that can use a subscription."]}),"\n",(0,s.jsx)(i.p,{children:"Aura will strictly enforce the limit on the number of devices that can add the subscription."}),"\n",(0,s.jsxs)(i.admonition,{type:"danger",children:[(0,s.jsxs)(i.p,{children:["If ",(0,s.jsx)(i.code,{children:"HWID_DEVICE_LIMIT_ENABLED"})," is set to ",(0,s.jsx)(i.code,{children:"true"})," and you do not disable the HWID limit for a user in the panel, it will be ",(0,s.jsx)(i.strong,{children:"impossible"})," for them to get a subscription if their client application does not send a HWID header."]}),(0,s.jsxs)(i.p,{children:["Aura will return a ",(0,s.jsx)(i.code,{children:"404"})," error if no HWID header is sent."]})]}),"\n",(0,s.jsx)(i.h3,{id:"env-configuration",children:".env configuration"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",metastring:'title=".env configuration"',children:'### HWID DEVICE DETECTION AND LIMITATION ###\r\nHWID_DEVICE_LIMIT_ENABLED=true\r\nHWID_FALLBACK_DEVICE_LIMIT=5\r\nHWID_MAX_DEVICES_ANNOUNCE="You have reached the maximum number of allowed devices for your subscription."\r\n\r\n\r\n### HWID DEVICE DETECTION PROVIDER ID ###\r\n# Apps, which currently support this feature:\r\n# - Happ\r\nPROVIDER_ID="123456"\n'})}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"HWID_DEVICE_LIMIT_ENABLED"})," - enables device limit restriction."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"HWID_FALLBACK_DEVICE_LIMIT"})," - the default device limit that will be used if a user does not have their own limit set."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"HWID_MAX_DEVICES_ANNOUNCE"})," - the message that will be displayed to the user if they exceed the device limit. (Header: ",(0,s.jsx)(i.code,{children:"announce"}),")"]}),"\n",(0,s.jsx)(i.h3,{id:"user-limits",children:"User limits"}),"\n",(0,s.jsxs)(i.p,{children:["You have the option to set a custom limit for each user. If no value is specified, the fallback limit (",(0,s.jsx)(i.code,{children:"HWID_FALLBACK_DEVICE_LIMIT"}),") will be used."]}),"\n",(0,s.jsx)(i.p,{children:"There is also an option to disable HWID Device Limit for each user."}),"\n",(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,s.jsx)("img",{src:"/features/hwid-device-limit/hwid-user-limits.webp",alt:"HWID User Limits",width:"800"})}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.p,{children:"In the user card, you can see the list of devices that user has added the subscription onto. You have the option to delete devices from the list. Searching for devices by HWID is also available."}),"\n",(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,s.jsx)("img",{src:"/features/hwid-device-limit/hwid-user-devices-list.webp",alt:"HWID Device Limit Settings",width:"800"})}),"\n",(0,s.jsx)(i.h3,{id:"example-configuration",children:"Example configuration"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",metastring:'title="Example configuration"',children:'HWID_DEVICE_LIMIT_ENABLED=true\r\nHWID_FALLBACK_DEVICE_LIMIT=1\r\nHWID_MAX_DEVICES_ANNOUNCE="You have reached the maximum number of allowed devices for your subscription."\n'})}),"\n",(0,s.jsxs)(i.p,{children:["In this case, the user will be able to use only one device - only in applications that support sending the ",(0,s.jsx)(i.code,{children:"x-hwid"})," header."]}),"\n",(0,s.jsx)(i.h3,{id:"supported-applications",children:"Supported applications"}),"\n",(0,s.jsx)(i.admonition,{type:"info",children:(0,s.jsx)(i.p,{children:"Not all client applications send a HWID header. Here is the list of applications which currently support this feature."})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://happ.su",children:"Happ"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://docs.v2raytun.com/overview/supported-headers",children:"v2RayTun"})}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"for-app-developers",children:"For app developers"}),"\n",(0,s.jsx)(i.admonition,{type:"info",children:(0,s.jsxs)(i.p,{children:["A standard for providing headers is offered by ",(0,s.jsx)(i.a,{href:"https://happ.su",children:"Happ"}),"."]})}),"\n",(0,s.jsx)(i.p,{children:"Aura is using these headers to identify the HWID and the device."}),"\n",(0,s.jsx)(i.p,{children:"To enable support for the HWID feature in your client, the application should send the following headers when the user is adding the subscription."}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"x-hwid: vfjdhk66csdjhk\r\nx-device-os: iOS\r\nx-ver-os: 18.3\r\nx-device-model: Iphone 14 Pro Max\r\nuser-agent: <user_agent>\n"})}),"\n",(0,s.jsxs)(i.p,{children:["The only required item is ",(0,s.jsx)(i.code,{children:"x-hwid"}),". Other headers are optional and can be used to identify the device more accurately."]}),"\n",(0,s.jsx)(i.p,{children:"If your application has the ability to enable additional features based on where the subscription is coming from, Aura can send a provider id in the response headers, which you can use to figure out where the subscription is coming from."})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,i,t)=>{t.d(i,{R:()=>o,x:()=>a});var n=t(6540);const s={},r=n.createContext(s);function o(e){const i=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(r.Provider,{value:i},e.children)}}}]);